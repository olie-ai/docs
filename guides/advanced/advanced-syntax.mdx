---
title: "Sintaxe avan√ßada"
description: "Utilize l√≥gica embutida em templates para criar conte√∫dos din√¢micos e inteligentes"
---

<Warning>
Esse recurso requer conhecimento de l√≥gica e normalmente √© usada por usu√°rios avan√ßados.
</Warning>

## Vis√£o geral

√â poss√≠vel utilizar **sintaxe avan√ßada** para deixar os blocos de texto, automa√ß√µes e templates ainda mais inteligentes e adapt√°veis ao contexto. Essa funcionalidade permite incorporar l√≥gica condicional, itera√ß√£o de listas, e at√© chamadas de fun√ß√µes de consulta.

<Info>
A sintaxe avan√ßada transforma conte√∫dos est√°ticos em templates din√¢micos que se adaptam automaticamente aos dados dispon√≠veis.
</Info>

## Conceitos-chave

<CardGroup cols={2}>
<Card title="Vari√°veis din√¢micas" icon="brackets-curly">
  Acesse dados com chaves delimitadas por `{{ ... }}`.
  
  **Exemplos:**
  - `{{ nome }}`
  - `{{ etapa.atual }}`
  - `{{ project.data_inicio }}`
</Card>

<Card title="Condicionais (if/else)" icon="code-branch">
  Mostre conte√∫dos diferentes baseado em condi√ß√µes l√≥gicas.
  
  ```twig
  {% if cliente.vip %}
    Bem-vindo, cliente especial!
  {% else %}
    Ol√°! Obrigado por estar conosco.
  {% endif %}
  ```
</Card>

<Card title="Loops (for)" icon="rotate">
  Itere sobre listas e gere blocos repetitivos.
  
  ```twig
  {% for item in pedidos %}
    Pedido n¬∫ {{ item.numero }}
  {% endfor %}
  ```
</Card>

<Card title="Filtros" icon="filter">
  Transforme dados com fun√ß√µes especiais.
  
  **Exemplos:**
  - `{{ nome|upper }}`
  - `{{ data|date("d/m/Y") }}`
  - `{{ itens|length }}`
</Card>
</CardGroup>

## Vari√°veis din√¢micas

As vari√°veis permitem inserir dados dinamicamente no conte√∫do.

### Sintaxe b√°sica

```twig
{{ variavel }}
```

<Tabs>
<Tab title="Vari√°veis simples">
  ```twig
  Ol√°, {{ user.name }}!
  Seu e-mail √© {{ user.email }}.
  ```
  
  **Resultado:**
  ```
  Ol√°, Jo√£o Silva!
  Seu e-mail √© joao@exemplo.com.
  ```
</Tab>

<Tab title="Vari√°veis aninhadas">
  ```twig
  Projeto: {{ project.code }} - {{ project.name }}
  Cliente: {{ project.customer.name }}
  Status: {{ project.status }}
  ```
  
  **Resultado:**
  ```
  Projeto: P-1 - Website Institucional
  Cliente: Acme Corp
  Status: 1
  ```
</Tab>

<Tab title="Arrays e listas">
  ```twig
  {% set lista = ['A', 'B', 'C'] %}
  Primeiro item: {{ lista[0] }}
  √öltimo item: {{ lista[-1] }}
  Total de itens: {{ lista|length }}
  ```
  
  **Resultado (se lista = ['A', 'B', 'C']):**
  ```
  Primeiro item: A
  √öltimo item: C
  Total de itens: 3
  ```
</Tab>
</Tabs>

### Verifica√ß√£o de exist√™ncia

Antes de usar uma vari√°vel, voc√™ pode verificar se ela existe:

```twig
{% if variavel is defined %}
  A vari√°vel existe: {{ variavel }}
{% else %}
  A vari√°vel n√£o est√° dispon√≠vel
{% endif %}
```

<Tip>
Use `is defined` para evitar erros quando uma vari√°vel pode n√£o estar dispon√≠vel em todos os contextos.
</Tip>

## Condicionais

Condicionais permitem exibir conte√∫do diferente baseado em condi√ß√µes.

### Estrutura if/else

<Tabs>
<Tab title="If simples">
  ```twig
  {% if usuario.idade >= 18 %}
    Voc√™ √© maior de idade.
  {% endif %}
  ```
</Tab>

<Tab title="If/Else">
  ```twig
  {% if project.impact < 3 %}
    ‚ö†Ô∏è URGENTE: Este projeto requer aten√ß√£o imediata!
  {% else %}
    üìã Projeto regular
  {% endif %}
  ```
</Tab>

<Tab title="If/Elseif/Else">
  ```twig
  {% if project.impact < 3 %}
    ‚úÖ Projeto de alto impacto
  {% elseif project.impact < 5 and project.impact > 3 %}
    üöÄ Projeto de m√©dio impacto
  {% else %}
    ‚ö†Ô∏è Projeto de baixo
  {% endif %}
  ```
</Tab>

</Tabs>

### Operadores de compara√ß√£o

<AccordionGroup>
<Accordion title="Igualdade e diferen√ßa" icon="equals">
  ```twig
  {% if valor == 10 %}      {# Igual a #}
  {% if valor != 10 %}      {# Diferente de #}
  ```
</Accordion>

<Accordion title="Compara√ß√µes num√©ricas" icon="greater-than">
  ```twig
  {% if idade > 18 %}       {# Maior que #}
  {% if idade >= 18 %}      {# Maior ou igual #}
  {% if idade < 18 %}       {# Menor que #}
  {% if idade <= 18 %}      {# Menor ou igual #}
  ```
</Accordion>

<Accordion title="Operadores l√≥gicos" icon="code-merge">
  ```twig
  {% if a and b %}          {# E l√≥gico #}
  {% if a or b %}           {# OU l√≥gico #}
  {% if not a %}            {# N√ÉO l√≥gico #}
  ```
</Accordion>

<Accordion title="Testes especiais" icon="vial">
  ```twig
  {% if variavel is defined %}     {# Est√° definida #}
  {% if variavel is null %}        {# √â nula #}
  {% if variavel is empty %}       {# √â vazia #}
  {% if numero is even %}          {# √â par #}
  {% if numero is odd %}           {# √â √≠mpar #}
  ```
</Accordion>
</AccordionGroup>

## Loops (for)

Loops permitem iterar sobre listas e arrays para gerar conte√∫do repetitivo.

### Estrutura b√°sica

```twig
{% for item in lista %}
  {{ item }}
{% endfor %}
```

<Tabs>
<Tab title="Lista simples">
  ```twig
  Membros da equipe:
  {% for membro in equipe %}
  - {{ membro.nome }} ({{ membro.cargo }})
  {% endfor %}
  ```
  
  **Resultado:**
  ```
  Membros da equipe:
  - Jo√£o Silva (Desenvolvedor)
  - Maria Santos (Designer)
  - Carlos Oliveira (Gerente)
  ```
</Tab>

<Tab title="Com √≠ndice">
  ```twig
  {% for item in lista %}
    {{ loop.index }}. {{ item }}
  {% endfor %}
  ```
  
  **Vari√°veis especiais do loop:**
  - `loop.index` - √çndice atual (come√ßa em 1)
  - `loop.index0` - √çndice atual (come√ßa em 0)
  - `loop.first` - True na primeira itera√ß√£o
  - `loop.last` - True na √∫ltima itera√ß√£o
  - `loop.length` - Total de itens
</Tab>

<Tab title="Com condicionais">
  ```twig
  {% for tarefa in tarefas %}
    {% if tarefa.status == 'pendente' %}
      ‚è≥ {{ tarefa.nome }} - Pendente
    {% endif %}
  {% endfor %}
  ```
</Tab>

<Tab title="Loop vazio">
  ```twig
  {% for item in lista %}
    - {{ item }}
  {% else %}
    Nenhum item encontrado.
  {% endfor %}
  ```
  
  <Info>
  O bloco `else` √© executado se a lista estiver vazia.
  </Info>
</Tab>
</Tabs>

### Loops com ranges

```twig
{% for i in 1..5 %}
  N√∫mero {{ i }}
{% endfor %}
```

**Resultado:**
```
N√∫mero 1
N√∫mero 2
N√∫mero 3
N√∫mero 4
N√∫mero 5
```

<Tip>
Use ranges para criar sequ√™ncias num√©ricas facilmente.
</Tip>

## Filtros

Filtros transformam dados antes de exibi-los.

### Sintaxe de filtros

```twig
{{ variavel|filtro }}
{{ variavel|filtro(parametro) }}
{{ variavel|filtro1|filtro2 }}
```

<Tabs>
<Tab title="Texto">
  ```twig
  {{ nome|upper }}              {# JO√ÉO SILVA #}
  {{ nome|lower }}              {# jo√£o silva #}
  {{ nome|capitalize }}         {# Jo√£o silva #}
  {{ nome|title }}              {# Jo√£o Silva #}
  {{ texto|trim }}              {# Remove espa√ßos #}
  {{ texto|length }}            {# Conta caracteres #}
  {{ texto|json }}              {# Converte para JSON #}
  {{ texto|json(true) }}        {# Converte para JSON com identa√ß√£o #}
  ```
</Tab>

<Tab title="N√∫meros">
  ```twig
  {{ preco|number_format(2, ',', '.') }}
  {# 1.234,56 #}
  
  {{ valor|round }}             {# Arredonda #}
  {{ valor|round(2) }}          {# 2 decimais #}
  {{ valor|abs }}               {# Valor absoluto #}
  ```
</Tab>

<Tab title="Datas">
  ```twig
  {{ data|date("d/m/Y") }}      {# 21/01/2026 #}
  {{ data|date("d/m/Y H:i") }}  {# 21/01/2026 14:30 #}
  {{ data|date("F Y") }}        {# Janeiro 2026 #}
  ```
</Tab>

<Tab title="Arrays">
  ```twig
  {{ lista|length }}            {# Tamanho #}
  {{ lista|first }}             {# Primeiro item #}
  {{ lista|last }}              {# √öltimo item #}
  {{ lista|join(', ') }}        {# Une com v√≠rgula #}
  {{ lista|reverse }}           {# Inverte ordem #}
  {{ lista|sort }}              {# Ordena #}
  {{ lista|unique }}            {# Remove duplicatas #}
  {{ lista|json }}              {# Converte para JSON #}
  {{ lista|json(true) }}        {# Converte para JSON com identa√ß√£o #}
  ```
</Tab>

<Tab title="Objetos">
  ```twig
  {{ objeto|json }}              {# Converte para JSON #}
  {{ objeto|json(true) }}        {# Converte para JSON com identa√ß√£o #}
  ```
</Tab>
</Tabs>

### Filtros especiais da Olie

<AccordionGroup>
<Accordion title="mention" icon="at">
  Cria uma men√ß√£o de usu√°rio automaticamente.
  
  ```twig
  {{ usuario|mention }}
  ```
  
  [Saiba mais sobre men√ß√µes ‚Üí](/guides/automation/mention-users)
</Accordion>

<Accordion title="default" icon="shield-halved">
  Define um valor padr√£o se a vari√°vel for vazia.
  
  ```twig
  {{ nome|default('Nome n√£o informado') }}
  ```
</Accordion>

<Accordion title="escape" icon="shield">
  Escapa caracteres especiais para seguran√ßa.
  
  ```twig
  {{ texto|escape }}
  {{ texto|e }}  {# Atalho #}
  ```
</Accordion>

<Accordion title="json" icon="code">
  Converte para JSON. Muito √∫til para debugar e exibir dados em formato JSON.
  
  ```twig
  {{ lista|json }}              {# Converte para JSON #}
  {{ lista|json(true) }}        {# Converte para JSON com identa√ß√£o #}
  ```
</Accordion>
</AccordionGroup>
 
## Como funciona o mecanismo

Por tr√°s da sintaxe avan√ßada, a plataforma utiliza um mecanismo baseado no **Twig**, uma das engines de templates mais modernas e seguras do ecossistema web.

<Info>
O Twig √© amplamente adotado por frameworks robustos e foi adaptado aqui para permitir **automa√ß√£o l√≥gica dentro dos conte√∫dos da plataforma**, de forma controlada e intuitiva.
</Info>
 
## Documenta√ß√£o oficial do Twig

Para usu√°rios avan√ßados ou desenvolvedores, vale a pena conferir a documenta√ß√£o oficial do Twig para explorar todo o potencial da sintaxe:

<Card title="Documenta√ß√£o do Twig" icon="book" href="https://twig.symfony.com/doc/">
  Acesse a documenta√ß√£o completa do Twig para aprender sobre recursos avan√ßados, filtros adicionais e melhores pr√°ticas.
</Card>
 